#!/usr/bin/tclsh

# # 16ì¥: ë°°ì—´, array

# ## TCL ë§ˆìŠ¤í„°í•˜ê¸°: ë°°ì—´(Array) ğŸ—ƒï¸

# ### 1. ë°°ì—´ ê°œìš”

# `TCLì˜ ë°°ì—´ì€ ì—°ê´€ ë°°ì—´(associative array) ë˜ëŠ” í•´ì‹œ í…Œì´ë¸”ê³¼ ìœ ì‚¬í•œ í‚¤-ê°’ ìŒì˜ ì§‘í•©ì…ë‹ˆë‹¤.`

# ### 2. ë°°ì—´ ìƒì„± ë° ìš”ì†Œ ì ‘ê·¼

# #### 2.1 ë°°ì—´ ìš”ì†Œ ì„¤ì •

# ```tcl
set fruits(apple) red
set fruits(banana) yellow
set fruits(grape) purple
# ```

# #### 2.2 ë°°ì—´ ìš”ì†Œ ì ‘ê·¼

# ```tcl
puts $fruits(apple)  ;# ì¶œë ¥: red
# ```

# ### 3. array ëª…ë ¹ì–´

# array ëª…ë ¹ì–´ëŠ” ë°°ì—´ì„ ì¡°ì‘í•˜ê³  ì •ë³´ë¥¼ ì–»ëŠ” ë° ì‚¬ìš©ë©ë‹ˆë‹¤.

# #### 3.1 ê¸°ë³¸ êµ¬ë¬¸

# ```tcl
# array ì„œë¸Œì»¤ë§¨ë“œ ë°°ì—´ì´ë¦„ ì¸ì
# ```

# #### 3.2 ì£¼ìš” ì„œë¸Œì»¤ë§¨ë“œ

# 1. **array exists**: ë°°ì—´ ì¡´ì¬ ì—¬ë¶€ í™•ì¸

#    ```tcl
   if {[array exists fruits]} {
       puts "fruits ë°°ì—´ì´ ì¡´ì¬í•©ë‹ˆë‹¤."
   }
#    ```
# 2. **array size**: ë°°ì—´ì˜ ìš”ì†Œ ìˆ˜ ë°˜í™˜

#    ```tcl
   puts [array size fruits]  ;# ë°°ì—´ì˜ ìš”ì†Œ ìˆ˜ ì¶œë ¥
#    ```
# 3. **array names**: ë°°ì—´ì˜ ëª¨ë“  í‚¤ ë°˜í™˜

#    ```tcl
   foreach key [array names fruits] {
       puts "$key: $fruits($key)"
   }
#    ```
# 4. **array get**: ë°°ì—´ì˜ ëª¨ë“  í‚¤-ê°’ ìŒì„ ë¦¬ìŠ¤íŠ¸ë¡œ ë°˜í™˜

#    ```tcl
   set fruit_list [array get fruits]
   puts $fruit_list  ;;# {apple red banana yellow grape purple} ì¶œë ¥
#    ```
# 5. **array set**: ë¦¬ìŠ¤íŠ¸ë¡œë¶€í„° ë°°ì—´ ìƒì„± ë˜ëŠ” ì—…ë°ì´íŠ¸

#    ```tcl
   array set colors {
       red    #FF0000
       green  #00FF00
       blue   #0000FF
   }
#    ```
# 6. **array unset**: ë°°ì—´ ìš”ì†Œ ì‚­ì œ

#    ```tcl
   array unset fruits grape  ;# grape í‚¤ ì‚­ì œ
  #  array unset fruits        ;# ëª¨ë“  ìš”ì†Œ ì‚­ì œ
#    ```

# ### 4. ë°°ì—´ ìˆœíšŒ

# #### 4.1 foreachë¥¼ ì‚¬ìš©í•œ ìˆœíšŒ

# ```tcl
foreach {key value} [array get fruits] {
    puts "$key is $value"
}
# ```

# #### 4.2 parray ëª…ë ¹ì–´ ì‚¬ìš©

# ```tcl
parray fruits  ;# ë°°ì—´ ë‚´ìš©ì„ ë³´ê¸° ì¢‹ê²Œ ì¶œë ¥
# ```

# ### 5. ë‹¤ì°¨ì› ë°°ì—´

# TCLì€ ì»´í“¨í„° ë©”ëª¨ë¦¬ ë ˆë²¨ì—ì„œ ë‹¤ì°¨ì› ë°°ì—´ì„ ì§€ì›í•˜ì§€ ì•Šì§€ë§Œ, í‚¤ ì´ë¦„ì„ ì‚¬ìš©í•˜ì—¬ ë‹¤ì°¨ì› ë°°ì—´ì²˜ëŸ¼ ìœ ì‚¬í•˜ê²Œ êµ¬í˜„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

# ```tcl
set matrix(1,1) 10
set matrix(1,2) 20
set matrix(2,1) 30
set matrix(2,2) 40

puts $matrix(1,2)  ;# ì¶œë ¥: 20
# ```

# ### 6. ë°°ì—´ vs ë¦¬ìŠ¤íŠ¸

# * ë°°ì—´: í‚¤ë¥¼ í†µí•œ ë¹ ë¥¸ ì ‘ê·¼, ëŒ€ê·œëª¨ ë°ì´í„°ì— íš¨ìœ¨ì 
# * ë¦¬ìŠ¤íŠ¸: ìˆœì°¨ì  ì ‘ê·¼, ì‚¬ìš©ë²•ì´ ê°„ë‹¨í•´ì„œ ìµœì í™”ê°€ í•„ìš”ì—†ëŠ” ë°ì´í„°ì˜ ê²½ìš°, ìì£¼ ì“°ì„.

# ### 7. ê³ ê¸‰ ê¸°ëŠ¥

# #### 7.1 array statistics

# ë°°ì—´ì˜ ë‚´ë¶€ êµ¬ì¡°ì— ëŒ€í•œ í†µê³„ ì •ë³´ë¥¼ ì œê³µí•©ë‹ˆë‹¤.

# ```tcl
puts [array statistics fruits]
# ```

# #### 7.2 array unset with pattern

# íŒ¨í„´ì„ ì‚¬ìš©í•˜ì—¬ ì—¬ëŸ¬ ìš”ì†Œë¥¼ í•œ ë²ˆì— ì‚­ì œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

# ```tcl
array unset fruits *a*  ;# 'a'ë¥¼ í¬í•¨í•˜ëŠ” ëª¨ë“  í‚¤ ì‚­ì œ
# ```

# ### 8. ì„±ëŠ¥ ê³ ë ¤ì‚¬í•­ ğŸš€

# * í° ë°ì´í„°ì…‹ì—ì„œ ë°°ì—´ì€ ë¦¬ìŠ¤íŠ¸ë³´ë‹¤ íš¨ìœ¨ì ì…ë‹ˆë‹¤.
# * `array set`ì€ ëŒ€ëŸ‰ì˜ ë°ì´í„°ë¥¼ í•œ ë²ˆì— ì„¤ì •í•  ë•Œ ìœ ìš©í•©ë‹ˆë‹¤.

# ### 9. íŒê³¼ ìš”ë ¹ ğŸ’¡

# * ë°°ì—´ ì´ë¦„ ì¶©ëŒì„ í”¼í•˜ê¸° ìœ„í•´ ë„¤ì„ìŠ¤í˜ì´ìŠ¤ë¥¼ ì‚¬ìš©í•˜ì„¸ìš”.
# * `array` ëª…ë ¹ì–´ì˜ ë‹¤ì–‘í•œ ì„œë¸Œì»¤ë§¨ë“œë¥¼ í™œìš©í•˜ì—¬ ë°°ì—´ì„ íš¨ê³¼ì ìœ¼ë¡œ ê´€ë¦¬í•˜ì„¸ìš”.
# * ë³µì¡í•œ ë°ì´í„° êµ¬ì¡°ê°€ í•„ìš”í•œ ê²½ìš°, ë‹¤ì°¨ì›ë°°ì—´ ë˜ëŠ” ë°°ì—´ì˜ ë¦¬ìŠ¤íŠ¸ë¥¼ ê³ ë ¤í•´ë³´ì„¸ìš”.
